(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const l of r)if(l.type==="childList")for(const a of l.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(r){const l={};return r.integrity&&(l.integrity=r.integrity),r.referrerPolicy&&(l.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?l.credentials="include":r.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(r){if(r.ep)return;r.ep=!0;const l=n(r);fetch(r.href,l)}})();const vt=!1,bt=(e,t)=>e===t,W=Symbol("solid-proxy"),ce=Symbol("solid-track"),fe={equals:bt};let Je=nt;const z=1,de=2,Ze={owned:null,cleanups:null,context:null,owner:null};var x=null;let Se=null,_t=null,$=null,M=null,G=null,$e=0;function q(e,t){const n=$,i=x,r=e.length===0,l=t===void 0?i:t,a=r?Ze:{owned:null,cleanups:null,context:l?l.context:null,owner:l},o=r?e:()=>e(()=>N(()=>le(a)));x=a,$=null;try{return te(o,!0)}finally{$=n,x=i}}function K(e,t){t=t?Object.assign({},fe,t):fe;const n={value:e,observers:null,observerSlots:null,comparator:t.equals||void 0},i=r=>(typeof r=="function"&&(r=r(n.value)),tt(n,r));return[et.bind(n),i]}function D(e,t,n){const i=Pe(e,t,!1,z);se(i)}function Qe(e,t,n){Je=St;const i=Pe(e,t,!1,z);i.user=!0,G?G.push(i):se(i)}function O(e,t,n){n=n?Object.assign({},fe,n):fe;const i=Pe(e,t,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=n.equals||void 0,se(i),et.bind(i)}function pt(e){return te(e,!1)}function N(e){if($===null)return e();const t=$;$=null;try{return e()}finally{$=t}}function xt(e){Qe(()=>N(e))}function Te(e){return x===null||(x.cleanups===null?x.cleanups=[e]:x.cleanups.push(e)),e}function Ae(){return $}function Et(e,t){const n=Symbol("context");return{id:n,Provider:Dt(n),defaultValue:e}}function $t(e){let t;return x&&x.context&&(t=x.context[e.id])!==void 0?t:e.defaultValue}function qe(e){const t=O(e),n=O(()=>De(t()));return n.toArray=()=>{const i=n();return Array.isArray(i)?i:i!=null?[i]:[]},n}function et(){if(this.sources&&this.state)if(this.state===z)se(this);else{const e=M;M=null,te(()=>me(this),!1),M=e}if($){const e=this.observers?this.observers.length:0;$.sources?($.sources.push(this),$.sourceSlots.push(e)):($.sources=[this],$.sourceSlots=[e]),this.observers?(this.observers.push($),this.observerSlots.push($.sources.length-1)):(this.observers=[$],this.observerSlots=[$.sources.length-1])}return this.value}function tt(e,t,n){let i=e.value;return(!e.comparator||!e.comparator(i,t))&&(e.value=t,e.observers&&e.observers.length&&te(()=>{for(let r=0;r<e.observers.length;r+=1){const l=e.observers[r],a=Se&&Se.running;a&&Se.disposed.has(l),(a?!l.tState:!l.state)&&(l.pure?M.push(l):G.push(l),l.observers&&it(l)),a||(l.state=z)}if(M.length>1e6)throw M=[],new Error},!1)),t}function se(e){if(!e.fn)return;le(e);const t=$e;wt(e,e.value,t)}function wt(e,t,n){let i;const r=x,l=$;$=x=e;try{i=e.fn(t)}catch(a){return e.pure&&(e.state=z,e.owned&&e.owned.forEach(le),e.owned=null),e.updatedAt=n+1,rt(a)}finally{$=l,x=r}(!e.updatedAt||e.updatedAt<=n)&&(e.updatedAt!=null&&"observers"in e?tt(e,i):e.value=i,e.updatedAt=n)}function Pe(e,t,n,i=z,r){const l={fn:e,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:t,owner:x,context:x?x.context:null,pure:n};return x===null||x!==Ze&&(x.owned?x.owned.push(l):x.owned=[l]),l}function he(e){if(e.state===0)return;if(e.state===de)return me(e);if(e.suspense&&N(e.suspense.inFallback))return e.suspense.effects.push(e);const t=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<$e);)e.state&&t.push(e);for(let n=t.length-1;n>=0;n--)if(e=t[n],e.state===z)se(e);else if(e.state===de){const i=M;M=null,te(()=>me(e,t[0]),!1),M=i}}function te(e,t){if(M)return e();let n=!1;t||(M=[]),G?n=!0:G=[],$e++;try{const i=e();return It(n),i}catch(i){n||(G=null),M=null,rt(i)}}function It(e){if(M&&(nt(M),M=null),e)return;const t=G;G=null,t.length&&te(()=>Je(t),!1)}function nt(e){for(let t=0;t<e.length;t++)he(e[t])}function St(e){let t,n=0;for(t=0;t<e.length;t++){const i=e[t];i.user?e[n++]=i:he(i)}for(t=0;t<n;t++)he(e[t])}function me(e,t){e.state=0;for(let n=0;n<e.sources.length;n+=1){const i=e.sources[n];if(i.sources){const r=i.state;r===z?i!==t&&(!i.updatedAt||i.updatedAt<$e)&&he(i):r===de&&me(i,t)}}}function it(e){for(let t=0;t<e.observers.length;t+=1){const n=e.observers[t];n.state||(n.state=de,n.pure?M.push(n):G.push(n),n.observers&&it(n))}}function le(e){let t;if(e.sources)for(;e.sources.length;){const n=e.sources.pop(),i=e.sourceSlots.pop(),r=n.observers;if(r&&r.length){const l=r.pop(),a=n.observerSlots.pop();i<r.length&&(l.sourceSlots[a]=i,r[i]=l,n.observerSlots[i]=a)}}if(e.tOwned){for(t=e.tOwned.length-1;t>=0;t--)le(e.tOwned[t]);delete e.tOwned}if(e.owned){for(t=e.owned.length-1;t>=0;t--)le(e.owned[t]);e.owned=null}if(e.cleanups){for(t=e.cleanups.length-1;t>=0;t--)e.cleanups[t]();e.cleanups=null}e.state=0}function At(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function rt(e,t=x){throw At(e)}function De(e){if(typeof e=="function"&&!e.length)return De(e());if(Array.isArray(e)){const t=[];for(let n=0;n<e.length;n++){const i=De(e[n]);Array.isArray(i)?t.push.apply(t,i):t.push(i)}return t}return e}function Dt(e,t){return function(i){let r;return D(()=>r=N(()=>(x.context={...x.context,[e]:i.value},qe(()=>i.children))),void 0),r}}const Me=Symbol("fallback");function ge(e){for(let t=0;t<e.length;t++)e[t]()}function Mt(e,t,n={}){let i=[],r=[],l=[],a=0,o=t.length>1?[]:null;return Te(()=>ge(l)),()=>{let s=e()||[],u=s.length,f,c;return s[ce],N(()=>{let d,y,_,w,S,p,C,P,L;if(u===0)a!==0&&(ge(l),l=[],i=[],r=[],a=0,o&&(o=[])),n.fallback&&(i=[Me],r[0]=q(V=>(l[0]=V,n.fallback())),a=1);else if(a===0){for(r=new Array(u),c=0;c<u;c++)i[c]=s[c],r[c]=q(b);a=u}else{for(_=new Array(u),w=new Array(u),o&&(S=new Array(u)),p=0,C=Math.min(a,u);p<C&&i[p]===s[p];p++);for(C=a-1,P=u-1;C>=p&&P>=p&&i[C]===s[P];C--,P--)_[P]=r[C],w[P]=l[C],o&&(S[P]=o[C]);for(d=new Map,y=new Array(P+1),c=P;c>=p;c--)L=s[c],f=d.get(L),y[c]=f===void 0?-1:f,d.set(L,c);for(f=p;f<=C;f++)L=i[f],c=d.get(L),c!==void 0&&c!==-1?(_[c]=r[f],w[c]=l[f],o&&(S[c]=o[f]),c=y[c],d.set(L,c)):l[f]();for(c=p;c<u;c++)c in _?(r[c]=_[c],l[c]=w[c],o&&(o[c]=S[c],o[c](c))):r[c]=q(b);r=r.slice(0,a=u),i=s.slice(0)}return r});function b(d){if(l[c]=d,o){const[y,_]=K(c);return o[c]=_,t(s[c],y)}return t(s[c])}}}function Ct(e,t,n={}){let i=[],r=[],l=[],a=[],o=0,s;return Te(()=>ge(l)),()=>{const u=e()||[],f=u.length;return u[ce],N(()=>{if(f===0)return o!==0&&(ge(l),l=[],i=[],r=[],o=0,a=[]),n.fallback&&(i=[Me],r[0]=q(b=>(l[0]=b,n.fallback())),o=1),r;for(i[0]===Me&&(l[0](),l=[],i=[],r=[],o=0),s=0;s<f;s++)s<i.length&&i[s]!==u[s]?a[s](()=>u[s]):s>=i.length&&(r[s]=q(c));for(;s<i.length;s++)l[s]();return o=a.length=l.length=f,i=u.slice(0),r=r.slice(0,o)});function c(b){l[s]=b;const[d,y]=K(u[s]);return a[s]=y,t(d,s)}}}function m(e,t){return N(()=>e(t||{}))}const lt=e=>`Stale read from <${e}>.`;function Ce(e){const t="fallback"in e&&{fallback:()=>e.fallback};return O(Mt(()=>e.each,e.children,t||void 0))}function ye(e){const t="fallback"in e&&{fallback:()=>e.fallback};return O(Ct(()=>e.each,e.children,t||void 0))}function T(e){const t=e.keyed,n=O(()=>e.when,void 0,void 0),i=t?n:O(n,void 0,{equals:(r,l)=>!r==!l});return O(()=>{const r=i();if(r){const l=e.children;return typeof l=="function"&&l.length>0?N(()=>l(t?r:()=>{if(!N(i))throw lt("Show");return n()})):l}return e.fallback},void 0,void 0)}function kt(e){const t=qe(()=>e.children),n=O(()=>{const i=t(),r=Array.isArray(i)?i:[i];let l=()=>{};for(let a=0;a<r.length;a++){const o=a,s=r[a],u=l,f=O(()=>u()?void 0:s.when,void 0,void 0),c=s.keyed?f:O(f,void 0,{equals:(b,d)=>!b==!d});l=()=>u()||(c()?[o,f,s]:void 0)}return l});return O(()=>{const i=n()();if(!i)return e.fallback;const[r,l,a]=i,o=a.children;return typeof o=="function"&&o.length>0?N(()=>o(a.keyed?l():()=>{if(N(n)()?.[0]!==r)throw lt("Match");return l()})):o},void 0,void 0)}function ue(e){return e}const X=e=>O(()=>e());function Ot(e,t,n){let i=n.length,r=t.length,l=i,a=0,o=0,s=t[r-1].nextSibling,u=null;for(;a<r||o<l;){if(t[a]===n[o]){a++,o++;continue}for(;t[r-1]===n[l-1];)r--,l--;if(r===a){const f=l<i?o?n[o-1].nextSibling:n[l-o]:s;for(;o<l;)e.insertBefore(n[o++],f)}else if(l===o)for(;a<r;)(!u||!u.has(t[a]))&&t[a].remove(),a++;else if(t[a]===n[l-1]&&n[o]===t[r-1]){const f=t[--r].nextSibling;e.insertBefore(n[o++],t[a++].nextSibling),e.insertBefore(n[--l],f),t[r]=n[l]}else{if(!u){u=new Map;let c=o;for(;c<l;)u.set(n[c],c++)}const f=u.get(t[a]);if(f!=null)if(o<f&&f<l){let c=a,b=1,d;for(;++c<r&&c<l&&!((d=u.get(t[c]))==null||d!==f+b);)b++;if(b>f-o){const y=t[a];for(;o<f;)e.insertBefore(n[o++],y)}else e.replaceChild(n[o++],t[a++])}else a++;else t[a++].remove()}}}const Ke="_$DX_DELEGATE";function Tt(e,t,n,i={}){let r;return q(l=>{r=l,t===document?e():g(t,e(),t.firstChild?null:void 0,n)},i.owner),()=>{r(),t.textContent=""}}function E(e,t,n,i){let r;const l=()=>{const o=document.createElement("template");return o.innerHTML=e,o.content.firstChild},a=()=>(r||(r=l())).cloneNode(!0);return a.cloneNode=a,a}function we(e,t=window.document){const n=t[Ke]||(t[Ke]=new Set);for(let i=0,r=e.length;i<r;i++){const l=e[i];n.has(l)||(n.add(l),t.addEventListener(l,Nt))}}function v(e,t){t==null?e.removeAttribute("class"):e.className=t}function Pt(e,t,n,i){Array.isArray(n)?(e[`$$${t}`]=n[0],e[`$$${t}Data`]=n[1]):e[`$$${t}`]=n}function Lt(e,t,n){n!=null?e.style.setProperty(t,n):e.style.removeProperty(t)}function g(e,t,n,i){if(n!==void 0&&!i&&(i=[]),typeof t!="function")return ve(e,t,i,n);D(r=>ve(e,t(),r,n),i)}function Nt(e){let t=e.target;const n=`$$${e.type}`,i=e.target,r=e.currentTarget,l=s=>Object.defineProperty(e,"target",{configurable:!0,value:s}),a=()=>{const s=t[n];if(s&&!t.disabled){const u=t[`${n}Data`];if(u!==void 0?s.call(t,u,e):s.call(t,e),e.cancelBubble)return}return t.host&&typeof t.host!="string"&&!t.host._$host&&t.contains(e.target)&&l(t.host),!0},o=()=>{for(;a()&&(t=t._$host||t.parentNode||t.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return t||document}}),e.composedPath){const s=e.composedPath();l(s[0]);for(let u=0;u<s.length-2&&(t=s[u],!!a());u++){if(t._$host){t=t._$host,o();break}if(t.parentNode===r)break}}else o();l(i)}function ve(e,t,n,i,r){for(;typeof n=="function";)n=n();if(t===n)return n;const l=typeof t,a=i!==void 0;if(e=a&&n[0]&&n[0].parentNode||e,l==="string"||l==="number"){if(l==="number"&&(t=t.toString(),t===n))return n;if(a){let o=n[0];o&&o.nodeType===3?o.data!==t&&(o.data=t):o=document.createTextNode(t),n=J(e,n,i,o)}else n!==""&&typeof n=="string"?n=e.firstChild.data=t:n=e.textContent=t}else if(t==null||l==="boolean")n=J(e,n,i);else{if(l==="function")return D(()=>{let o=t();for(;typeof o=="function";)o=o();n=ve(e,o,n,i)}),()=>n;if(Array.isArray(t)){const o=[],s=n&&Array.isArray(n);if(ke(o,t,n,r))return D(()=>n=ve(e,o,n,i,!0)),()=>n;if(o.length===0){if(n=J(e,n,i),a)return n}else s?n.length===0?ze(e,o,i):Ot(e,n,o):(n&&J(e),ze(e,o));n=o}else if(t.nodeType){if(Array.isArray(n)){if(a)return n=J(e,n,i,t);J(e,n,null,t)}else n==null||n===""||!e.firstChild?e.appendChild(t):e.replaceChild(t,e.firstChild);n=t}}return n}function ke(e,t,n,i){let r=!1;for(let l=0,a=t.length;l<a;l++){let o=t[l],s=n&&n[e.length],u;if(!(o==null||o===!0||o===!1))if((u=typeof o)=="object"&&o.nodeType)e.push(o);else if(Array.isArray(o))r=ke(e,o,s)||r;else if(u==="function")if(i){for(;typeof o=="function";)o=o();r=ke(e,Array.isArray(o)?o:[o],Array.isArray(s)?s:[s])||r}else e.push(o),r=!0;else{const f=String(o);s&&s.nodeType===3&&s.data===f?e.push(s):e.push(document.createTextNode(f))}}return r}function ze(e,t,n=null){for(let i=0,r=t.length;i<r;i++)e.insertBefore(t[i],n)}function J(e,t,n,i){if(n===void 0)return e.textContent="";const r=i||document.createTextNode("");if(t.length){let l=!1;for(let a=t.length-1;a>=0;a--){const o=t[a];if(r!==o){const s=o.parentNode===e;!l&&!a?s?e.replaceChild(r,o):e.insertBefore(r,n):s&&o.remove()}else l=!0}}else e.insertBefore(r,n);return[r]}const Ut="_App_62sio_1",jt="_main_container_62sio_13",Rt="_tab_content_62sio_28",Gt="_logs_62sio_39",Vt="_stats_62sio_52",Ft="_tab_nav_62sio_66",Bt="_tab_button_62sio_78",Ht="_tab_active_62sio_97",Yt="_header_62sio_113",k={App:Ut,main_container:jt,tab_content:Rt,logs:Gt,stats:Vt,tab_nav:Ft,tab_button:Bt,tab_active:Ht,header:Yt},Oe=Symbol("store-raw"),ee=Symbol("store-node"),R=Symbol("store-has"),ot=Symbol("store-self");function at(e){let t=e[W];if(!t&&(Object.defineProperty(e,W,{value:t=new Proxy(e,Xt)}),!Array.isArray(e))){const n=Object.keys(e),i=Object.getOwnPropertyDescriptors(e);for(let r=0,l=n.length;r<l;r++){const a=n[r];i[a].get&&Object.defineProperty(e,a,{enumerable:i[a].enumerable,get:i[a].get.bind(t)})}}return t}function be(e){let t;return e!=null&&typeof e=="object"&&(e[W]||!(t=Object.getPrototypeOf(e))||t===Object.prototype||Array.isArray(e))}function oe(e,t=new Set){let n,i,r,l;if(n=e!=null&&e[Oe])return n;if(!be(e)||t.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):t.add(e);for(let a=0,o=e.length;a<o;a++)r=e[a],(i=oe(r,t))!==r&&(e[a]=i)}else{Object.isFrozen(e)?e=Object.assign({},e):t.add(e);const a=Object.keys(e),o=Object.getOwnPropertyDescriptors(e);for(let s=0,u=a.length;s<u;s++)l=a[s],!o[l].get&&(r=e[l],(i=oe(r,t))!==r&&(e[l]=i))}return e}function _e(e,t){let n=e[t];return n||Object.defineProperty(e,t,{value:n=Object.create(null)}),n}function ae(e,t,n){if(e[t])return e[t];const[i,r]=K(n,{equals:!1,internal:!0});return i.$=r,e[t]=i}function Kt(e,t){const n=Reflect.getOwnPropertyDescriptor(e,t);return!n||n.get||!n.configurable||t===W||t===ee||(delete n.value,delete n.writable,n.get=()=>e[W][t]),n}function st(e){Ae()&&ae(_e(e,ee),ot)()}function zt(e){return st(e),Reflect.ownKeys(e)}const Xt={get(e,t,n){if(t===Oe)return e;if(t===W)return n;if(t===ce)return st(e),n;const i=_e(e,ee),r=i[t];let l=r?r():e[t];if(t===ee||t===R||t==="__proto__")return l;if(!r){const a=Object.getOwnPropertyDescriptor(e,t);Ae()&&(typeof l!="function"||e.hasOwnProperty(t))&&!(a&&a.get)&&(l=ae(i,t,l)())}return be(l)?at(l):l},has(e,t){return t===Oe||t===W||t===ce||t===ee||t===R||t==="__proto__"?!0:(Ae()&&ae(_e(e,R),t)(),t in e)},set(){return!0},deleteProperty(){return!0},ownKeys:zt,getOwnPropertyDescriptor:Kt};function pe(e,t,n,i=!1){if(!i&&e[t]===n)return;const r=e[t],l=e.length;n===void 0?(delete e[t],e[R]&&e[R][t]&&r!==void 0&&e[R][t].$()):(e[t]=n,e[R]&&e[R][t]&&r===void 0&&e[R][t].$());let a=_e(e,ee),o;if((o=ae(a,t,r))&&o.$(()=>n),Array.isArray(e)&&e.length!==l){for(let s=e.length;s<l;s++)(o=a[s])&&o.$();(o=ae(a,"length",l))&&o.$(e.length)}(o=a[ot])&&o.$()}function ut(e,t){const n=Object.keys(t);for(let i=0;i<n.length;i+=1){const r=n[i];pe(e,r,t[r])}}function Wt(e,t){if(typeof t=="function"&&(t=t(e)),t=oe(t),Array.isArray(t)){if(e===t)return;let n=0,i=t.length;for(;n<i;n++){const r=t[n];e[n]!==r&&pe(e,n,r)}pe(e,"length",i)}else ut(e,t)}function re(e,t,n=[]){let i,r=e;if(t.length>1){i=t.shift();const a=typeof i,o=Array.isArray(e);if(Array.isArray(i)){for(let s=0;s<i.length;s++)re(e,[i[s]].concat(t),n);return}else if(o&&a==="function"){for(let s=0;s<e.length;s++)i(e[s],s)&&re(e,[s].concat(t),n);return}else if(o&&a==="object"){const{from:s=0,to:u=e.length-1,by:f=1}=i;for(let c=s;c<=u;c+=f)re(e,[c].concat(t),n);return}else if(t.length>1){re(e[i],t,[i].concat(n));return}r=e[i],n=[i].concat(n)}let l=t[0];typeof l=="function"&&(l=l(r,n),l===r)||i===void 0&&l==null||(l=oe(l),i===void 0||be(r)&&be(l)&&!Array.isArray(l)?ut(r,l):pe(e,i,l))}function Jt(...[e,t]){const n=oe(e||{}),i=Array.isArray(n),r=at(n);function l(...a){pt(()=>{i&&a.length===1?Wt(n,a[0]):re(n,a)})}return[r,l]}const I="player",Zt=[{id:"days",name:"Days",type:"basic",category:"loop",baseValue:95,baseMax:100,description:"Days"}],Qt=Object.freeze(Object.defineProperty({__proto__:null,RESOURCES:Zt},Symbol.toStringTag,{value:"Module"})),qt=[{id:"first",name:"Defend",type:"combat",category:"loop",order:"random",enemies:["slime"],numberOfEnemies:1,completionMessage:"You have defended",globalCompletionEffects:[{type:"increase_value",itemID:"mana_shard_0",amount:1},{type:"increase_value",resourceID:"days",amount:1}],unitCompletionEffects:[],failureMessage:"You have failed to defend",globalFailureEffects:[{type:"increase_value",resourceID:"days",amount:1}],unitFailureEffects:[]}],en=Object.freeze(Object.defineProperty({__proto__:null,ENCOUNTERS:qt},Symbol.toStringTag,{value:"Module"})),tn=[{id:"slime",name:"Slime",health:5,mana:1,description:"Oozing around",skills:["mana_attack"],completionEffects:[{type:"increase_value",itemID:"mana_shard_0",amount:1,chance:.1}]}],nn=Object.freeze(Object.defineProperty({__proto__:null,ENEMIES:tn},Symbol.toStringTag,{value:"Module"})),rn=[{id:"survive",name:"Survive",category:"common",description:"Run and hide to survive one more day.",flavorText:"abc",globalEffects:[{type:"increase_value",resourceID:"days",amount:1}],unitEffects:[],prerequisites:[{resourceID:"days",valueLessThanMax:!0}]},{id:"rest",name:"Rest",category:"common",description:"Rest and recover.",flavorText:"123",globalEffects:[{type:"increase_value",resourceID:"days",amount:1}],unitEffects:[{type:"increase_value",target:"mainCharacter",stat:"health",amount:1}],prerequisites:[{resourceID:"days",valueLessThanMax:!0}]},{id:"awaken",name:"Awaken",category:"story",description:"Awaken",flavorText:"abc",globalEffects:[],unitEffects:[{type:"increase_max",target:"mainCharacter",stat:"mana",amount:1}],maxExecutions:1,prerequisites:[{unit:"mainCharacter",unitStat:"mana",maxMax:0},{resourceID:"days",valueEqualToMax:!0}]},{id:"loop",name:"Loop",category:"loop",description:"Loop",flavorText:"123",globalEffects:[],unitEffects:[],prerequisites:[{resourceID:"days",valueEqualToMax:!0},{resourceID:"mana",minMax:1}]},{id:"battle",name:"Battle",category:"loop",description:"Battle an enemy",flavorText:"abc",globalEffects:[{type:"start_encounter",encounterID:"first"}],unitEffects:[],prerequisites:[{resourceID:"days",valueLessThanMax:!0}]}],ln=Object.freeze(Object.defineProperty({__proto__:null,ACTIONS:rn},Symbol.toStringTag,{value:"Module"})),on=[{id:"mana_shard_0",name:"Mana Shard 0",description:"A shard of very low quality mana."},{id:"mana_shard_1",name:"Mana Shard 1",description:"A shard of low quality mana."},{id:"mana_shard_2",name:"Mana Shard 2",description:"A shard of medium quality mana."},{id:"mana_shard_3",name:"Mana Shard 3",description:"A shard of high quality mana."},{id:"mana_shard_4",name:"Mana Shard 4",description:"A shard of very high quality mana."},{id:"mana_shard_5",name:"Mana Shard 5",description:"A shard of superior quality mana."},{id:"mana_shard_6",name:"Mana Shard 6",description:"A shard of pure mana."}],an=Object.freeze(Object.defineProperty({__proto__:null,ITEMS:on},Symbol.toStringTag,{value:"Module"})),sn=[{id:"basic_attack",name:"Basic Attack",type:"active",delay:2,costs:[],globalEffects:[],unitEffects:[{type:"damage",amount:.1,target:"enemy",stat:"health"}]},{id:"mana_attack",name:"Mana-Enhanced Attack",type:"active",delay:2,costs:[{resourceID:"mana",amount:.1}],globalEffects:[],unitEffects:[{type:"damage",amount:1,target:"enemy",stat:"health"}]}],un=Object.freeze(Object.defineProperty({__proto__:null,SKILLS:sn},Symbol.toStringTag,{value:"Module"})),cn=[],Le=[],ct=[],ft=[],Ne=[],fn=[],dt=[],dn=[Qt,en,nn,ln,an,un];dn.forEach(e=>{e.CATEGORIES&&cn.push(...e.CATEGORIES),e.RESOURCES&&Le.push(...e.RESOURCES),e.ENCOUNTERS&&ct.push(...e.ENCOUNTERS),e.ENEMIES&&ft.push(...e.ENEMIES),e.ACTIONS&&Ne.push(...e.ACTIONS),e.ITEMS&&fn.push(...e.ITEMS),e.SKILLS&&dt.push(...e.SKILLS)});const hn=Le,xe=Le.reduce((e,t)=>(e[t.id]=t,e),{}),Ie=ct.reduce((e,t)=>(e[t.id]=t,e),{}),ht=ft.reduce((e,t)=>(e[t.id]=t,e),{}),mt=Ne,Q=Ne.reduce((e,t)=>(e[t.id]=t,e),{}),Y=dt.reduce((e,t)=>(e[t.id]=t,e),{}),mn={count:0,resources:{},actions:{},items:{},party:{},activeParty:[],encounter:null,logs:[],theme:"system"};function j(e,t,n){return Math.min(Math.max(e,t),n)}function gn(){const[e,t]=Jt(mn),n={increment:()=>t("count",i=>i+1),decrement:()=>t("count",i=>i-1),initialize:i=>{t("party",I,{id:I,name:"Player",health:{value:5,max:10},mana:{value:0,max:0},skills:["basic_attack"]}),t("activeParty",[I]),hn.forEach(r=>{t("resources",r.id,{visible:i.computeVisibility(r.id),value:r.baseValue,max:r.baseMax})}),mt.forEach(r=>{t("actions",r.id,{visible:i.computeVisibility(r.id),executions:0})})},computeVisibility:i=>{const r=yn(e,i);return i in xe&&t("resources",i,{visible:r}),i in Q&&t("actions",i,{visible:r}),r},computeEnabled:i=>Ee(e,i),applyGlobalEffects:function(i){i.forEach(r=>{n.applyGlobalEffect(r)})},applyGlobalEffect:function(i){vn(e,t,n,i)},applyUnitEffects:function(i){i.forEach(r=>{n.applyUnitEffect(r)})},applyUnitEffect:function(i){bn(e,t,n,i)},doAction:i=>{_n(e,t,n,i)},addLog:i=>{t("logs",r=>[...r,i])},runEncounter:i=>{wn(e,t,n,i)},setTheme:i=>{t("theme",i)}};return[e,n]}function yn(e,t){if(t in xe){let n=!1;return t in e.resources&&(n=e.resources[t].visible),n||Ee(e,t)}if(t in Q){let n=!1;return t in e.actions&&(n=e.actions[t].visible),n||Ee(e,t)}return!1}function Ee(e,t){let n=[];t in Q&&(n=Q[t].prerequisites);let i=!1;return!n||n.length===0?i=!0:i=n.every(r=>{if(r.resourceID){const l=e.resources[r.resourceID];if(!l||r.minValue!==void 0&&l.value<r.minValue||r.maxValue!==void 0&&l.value>r.maxValue||r.minMax!==void 0&&l.max<r.minMax||r.maxMax!==void 0&&l.max>r.maxMax||r.valueLessThanMax&&l.value>=l.max||r.valueGreaterThanZero&&l.value<=0||r.valueEqualToMax&&l.value!==l.max)return!1}if(r.actionID){const l=e.actions[r.actionID];if(!l||(console.log("act state: visible ="+l.visible+", executions = "+l.executions),r.actionMinExecutions!==void 0&&l.executions<r.actionMinExecutions)||r.actionMaxExecutions!==void 0&&l.executions>r.actionMaxExecutions)return!1}if(r.unit&&r.unitStat&&r.unit==="mainCharacter"){const l=e.party[I];if(!l||r.unitStat==="health"&&(r.minValue!==void 0&&l.health.value<r.minValue||r.maxValue!==void 0&&l.health.value>r.maxValue||r.minMax!==void 0&&l.health.max<r.minMax||r.maxMax!==void 0&&l.health.max>r.maxMax)||r.unitStat==="mana"&&(r.minValue!==void 0&&l.mana.value<r.minValue||r.maxValue!==void 0&&l.mana.value>r.maxValue||r.minMax!==void 0&&l.mana.max<r.minMax||r.maxMax!==void 0&&l.mana.max>r.maxMax))return!1}return!0}),t in e.actions&&Q[t].maxExecutions&&e.actions[t].executions>=Q[t].maxExecutions&&(i=!1),i}function vn(e,t,n,i){switch(i.type){case"increase_value":if(console.log("increase_value"),i.resourceID){if(n.addLog("Increase value "+i.resourceID+" "+i.amount),i.chance!==void 0&&Math.random()>i.chance)return;t("resources",i.resourceID,o=>{const s=o||{value:0,max:0},u=j(s.value+(i.amount||0),0,s.max);return{...s,value:u}})}if(i.itemID){if(n.addLog("Increase value "+i.itemID+" "+i.amount),i.chance!==void 0&&Math.random()>i.chance)return;t("items",i.itemID,o=>{const s=o||{amount:0},u=s.amount+(i.amount||0);return{...s,amount:u}})}break;case"increase_max":console.log("increase_max"),i.resourceID&&(n.addLog("Increase max "+i.resourceID+" "+i.amount),t("resources",i.resourceID,o=>{console.log(o);const s=o||{value:0,max:0},u=s.max+(i.amount||0),f=j(s.value,0,u);return{...s,max:u,value:f}}));break;case"start_encounter":if(e.party[I].health.value<=0){n.addLog("Cannot start encounter with 0 health.");return}n.addLog("Start encounter");const r=i.encounterID;if(!r){console.log("no encounter id found");return}const l=Ie[r];if(console.log(l),!l){console.log("no encounter found");return}let a={encounterID:r,currentEnemyIndex:0,allies:e.activeParty.reduce((o,s)=>(o[s]={delay:0},o),{}),enemies:[]};console.log(a),t("encounter",a);break}}function bn(e,t,n,i){const r=i.config,l=i.options;console.log("applyUnitEffectConfig: "+JSON.stringify(r)),console.log("applyUnitEffectOptions: "+JSON.stringify(l)),r.type==="increase_value"&&r.target==="mainCharacter"&&(r.stat==="health"&&t("party",I,"health",a=>{const o=a||{value:0,max:0},s=j(o.value+(r.amount||0),0,o.max);return{...o,value:s}}),r.stat==="mana"&&t("party",I,"mana",a=>{const o=a||{value:0,max:0},s=j(o.value+(r.amount||0),0,o.max);return{...o,value:s}})),r.type==="increase_max"&&r.target==="mainCharacter"&&(r.stat==="health"&&t("party",I,"health",a=>{const o=a||{value:0,max:0},s=o.max+(r.amount||0),u=j(o.value,0,s);return{...o,max:s,value:u}}),r.stat==="mana"&&t("party",I,"mana",a=>{const o=a||{value:0,max:0},s=o.max+(r.amount||0),u=j(o.value,0,s);return{...o,max:s,value:u}})),r.type==="damage"&&(r.target==="mainCharacter"&&t("party",I,"health","value",a=>j(a-(r.amount||0),0,e.party[I].health.max)),l.targetAllyPartyUnitIDs&&l.targetAllyPartyUnitIDs.forEach(a=>{t("party",a,"health","value",o=>{const s=e.party[a];return s?j(o-(r.amount||0),0,s.health.max):o})}),l.targetEnemyPartyUnitIDs&&l.targetEnemyPartyUnitIDs.forEach(a=>{t("encounter","enemies",a,"health","value",o=>{const s=e.encounter?.enemies[a];return s?j(o-(r.amount||0),0,s.health.max):o})}))}function _n(e,t,n,i){if(e.encounter!==null){n.addLog("Cannot perform another action while in an encounter.");return}if(e.actions[i.id]||t("actions",i.id,{executions:0}),i.maxExecutions&&e.actions[i.id].executions>=i.maxExecutions){console.log("Action already executed max times");return}if(!Ee(e,i.id)){console.log("Prerequisites not met");return}t("actions",i.id,r=>({...r,executions:r.executions+1})),n.applyGlobalEffects(i.globalEffects),n.applyUnitEffects(i.unitEffects.map(r=>({config:r,options:{}})))}function pn(e){if(e.encounter===null)return!1;const t=Ie[e.encounter.encounterID];return t?e.encounter.currentEnemyIndex>=t.numberOfEnemies:!1}function xn(e){return e.encounter===null?!1:e.activeParty.every(t=>e.party[t].health.value<=0)}function En(e,t,n){if(e.encounter===null||e.encounter.enemies.length>0)return;const i=Ie[e.encounter.encounterID];if(!i||e.encounter.currentEnemyIndex>=i.numberOfEnemies)return;let r="";i.order=="random"?r=i.enemies[Math.floor(Math.random()*i.enemies.length)]:i.order=="sequential"&&(r=i.enemies[e.encounter.currentEnemyIndex]);const l=ht[r],a={enemyID:l.id,health:{value:l.health,max:l.health},mana:{value:l.mana,max:l.mana},delay:0};t("encounter","enemies",[a]),i.order=="random"&&n.addLog("Enemy spawned: "+l.name)}function $n(e,t){e.encounter===null||e.encounter.enemies.length===0||e.encounter.enemies[0].health.value<=0&&(t("encounter","enemies",[]),t("encounter","currentEnemyIndex",n=>n+1))}function wn(e,t,n,i){if(e.encounter===null||(En(e,t,n),e.encounter.enemies.length===0))return;Object.entries(e.encounter.allies).forEach(([l,a])=>{if(a.skillID===void 0){const o=e.party[l];if(!o)return;const s=o.skills[Math.floor(Math.random()*o.skills.length)];t("encounter","allies",l,"skillID",s)}}),e.encounter.enemies.forEach((l,a)=>{if(l.skillID===void 0){const o=ht[l.enemyID],s=o.skills[Math.floor(Math.random()*o.skills.length)];t("encounter","enemies",a,"skillID",s)}}),Object.keys(e.encounter.allies).forEach(l=>{t("encounter","allies",l,"delay",a=>(a||0)+i)}),e.encounter.enemies.forEach((l,a)=>{t("encounter","enemies",a,"delay",o=>(o||0)+i)}),Object.entries(e.encounter.allies).forEach(([l,a])=>{const o=a.skillID;if(!o)return;const s=Y[o];a.delay>=s.delay&&(s.unitEffects.forEach(u=>{let f={allyPartyUnitID:l};if(u.target=="enemy"){const c=Math.floor(Math.random()*e.encounter.enemies.length);f.targetEnemyPartyUnitIDs=[c]}if(u.target=="enemies"&&(f.targetEnemyPartyUnitIDs=e.encounter.enemies.map((c,b)=>b)),u.target=="ally"){const c=Object.keys(e.encounter.allies),b=c[Math.floor(Math.random()*c.length)];f.targetAllyPartyUnitIDs=[b]}u.target=="allies"&&(f.targetAllyPartyUnitIDs=Object.keys(e.encounter.allies)),u.target=="all"&&(f.targetAllyPartyUnitIDs=Object.keys(e.encounter.allies),f.targetEnemyPartyUnitIDs=e.encounter.enemies.map((c,b)=>b)),n.applyUnitEffect({config:u,options:f})}),t("encounter","allies",l,"delay",u=>(u||0)-s.delay),t("encounter","allies",l,"skillID",void 0),$n(e,t))}),e.encounter.enemies.forEach((l,a)=>{const o=l.skillID;if(!o)return;const s=Y[o];l.delay>=s.delay&&(s.unitEffects.forEach(u=>{let f={enemyPartyUnitID:a};if(u.target=="ally"){const c=Math.floor(Math.random()*e.encounter.enemies.length);f.targetEnemyPartyUnitIDs=[c]}if(u.target=="allies"&&(f.targetEnemyPartyUnitIDs=e.encounter.enemies.map((c,b)=>b)),u.target=="enemy"){const c=Object.keys(e.encounter.allies),b=c[Math.floor(Math.random()*c.length)];f.targetAllyPartyUnitIDs=[b]}u.target=="enemies"&&(f.targetAllyPartyUnitIDs=Object.keys(e.encounter.allies)),u.target=="all"&&(f.targetAllyPartyUnitIDs=Object.keys(e.encounter.allies),f.targetEnemyPartyUnitIDs=e.encounter.enemies.map((c,b)=>b)),n.applyUnitEffect({config:u,options:f})}),t("encounter","enemies",a,"delay",u=>(u||0)-s.delay),t("encounter","enemies",a,"skillID",void 0))});const r=Ie[e.encounter.encounterID];if(pn(e)){n.applyGlobalEffects(r.globalCompletionEffects),n.applyUnitEffects(r.unitCompletionEffects.map(l=>({config:l,options:{}}))),r.globalCompletionEffects.some(l=>l.type==="start_encounter")||t("encounter",null),n.addLog("Encounter completed");return}if(xn(e)){n.applyGlobalEffects(r.globalFailureEffects),n.applyUnitEffects(r.unitFailureEffects.map(l=>({config:l,options:{}}))),t("encounter",null),n.addLog("Encounter failed");return}}const gt=Et(void 0);function In(e){const t=gn();return m(gt.Provider,{value:t,get children(){return e.children}})}function ne(){const e=$t(gt);if(!e)throw new Error("useState must be used within a StateProvider");return e}function A(e){return e==null?"0.00":e.toFixed(2)}const Sn="_actionContainer_uq1yh_1",An="_action_uq1yh_1",Dn="_actionContent_uq1yh_35",Mn="_actionHeader_uq1yh_39",Cn="_toggleButton_uq1yh_46",kn="_expandedDetails_uq1yh_65",On="_flavorText_uq1yh_84",Tn="_prerequisites_uq1yh_91",B={actionContainer:Sn,action:An,actionContent:Dn,actionHeader:Mn,toggleButton:Cn,expandedDetails:kn,flavorText:On,prerequisites:Tn};var Pn=E('<button aria-label="Toggle details"type=button>'),Ln=E("<p>"),Nn=E("<div><strong>Prerequisites:</strong><ul>"),Un=E("<div>"),jn=E("<div><button><div><div><span></span></div><hr>"),Rn=E("<li>");const Gn=e=>{const[t,n]=ne(),i=e.item,[r,l]=K(!1),a=s=>{const u=[];return s.resourceID&&(u.push(`Resource: ${s.resourceID}`),s.minValue!==void 0&&u.push(`min value: ${s.minValue}`),s.maxValue!==void 0&&u.push(`max value: ${s.maxValue}`),s.minMax!==void 0&&u.push(`min max: ${s.minMax}`),s.maxMax!==void 0&&u.push(`max max: ${s.maxMax}`),s.valueGreaterThanZero&&u.push("value > 0"),s.valueLessThanMax&&u.push("value < max"),s.valueEqualToMax&&u.push("value = max")),s.actionID&&(u.push(`Action: ${s.actionID}`),s.actionMinExecutions!==void 0&&u.push(`min executions: ${s.actionMinExecutions}`),s.actionMaxExecutions!==void 0&&u.push(`max executions: ${s.actionMaxExecutions}`)),s.unit&&(u.push(`Unit: ${s.unit}`),s.unitStat&&u.push(`stat: ${s.unitStat}`)),u.join(", ")},o=()=>i().flavorText||i().prerequisites.length>0;return m(T,{get when(){return n.computeVisibility(i().id)},get children(){var s=jn(),u=s.firstChild,f=u.firstChild,c=f.firstChild,b=c.firstChild;return c.nextSibling,u.$$click=()=>n.doAction(i()),g(b,()=>i().name),g(c,m(T,{get when(){return o()},get children(){var d=Pn();return d.$$click=y=>{y.stopPropagation(),l(!r())},g(d,()=>r()?"▼":"▶"),D(()=>v(d,B.toggleButton)),d}}),null),g(f,()=>i().description,null),g(f,m(T,{get when(){return r()},get children(){var d=Un();return g(d,m(T,{get when(){return i().flavorText},get children(){var y=Ln();return g(y,()=>i().flavorText),D(()=>v(y,B.flavorText)),y}}),null),g(d,m(T,{get when(){return i().prerequisites.length>0},get children(){var y=Nn(),_=y.firstChild,w=_.nextSibling;return g(w,m(Ce,{get each(){return i().prerequisites},children:S=>(()=>{var p=Rn();return g(p,()=>a(S)),p})()})),D(()=>v(y,B.prerequisites)),y}}),null),D(()=>v(d,B.expandedDetails)),d}}),null),D(d=>{var y=B.actionContainer,_=B.action,w=!n.computeEnabled(i().id),S=B.actionContent,p=B.actionHeader;return y!==d.e&&v(s,d.e=y),_!==d.t&&v(u,d.t=_),w!==d.a&&(u.disabled=d.a=w),S!==d.o&&v(f,d.o=S),p!==d.i&&v(c,d.i=p),d},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0}),s}})};we(["click"]);const Vn="_encounter_jz6zl_1",Fn={encounter:Vn},Bn="_progressBar_dmti8_33",Hn="_barText_dmti8_46",Yn="_progressFill_dmti8_65",Kn="_healthFill_dmti8_70",zn="_health_dmti8_70",Xn="_mana_dmti8_79",Wn="_delay_dmti8_84",ie={progressBar:Bn,barText:Hn,progressFill:Yn,healthFill:Kn,health:zn,mana:Xn,delay:Wn};var Jn=E("<div><div></div><div>");const Z=e=>{const t=()=>e.max>0?e.value/e.max:0,n=()=>e.easing??1,i=()=>Math.pow(t(),n())*100;return(()=>{var r=Jn(),l=r.firstChild,a=l.nextSibling;return g(a,()=>e.label),D(o=>{var s=ie.progressBar,u=`${ie.progressFill} ${ie[e.type]} ${e.isHealth?ie.healthFill:""}`,f=`${i()}%`,c=ie.barText;return s!==o.e&&v(r,o.e=s),u!==o.t&&v(l,o.t=u),f!==o.a&&Lt(l,"width",o.a=f),c!==o.o&&v(a,o.o=c),o},{e:void 0,t:void 0,a:void 0,o:void 0}),r})()};var Zn=E('<div style="border:1px solid black;width:360px;margin:0 auto">'),Qn=E("<div>No encounter active."),qn=E("<div><b>Encounter"),ei=E("<div style=text-align:right><div><b>"),ti=E("<div style=text-align:left><div><b>");const ni=()=>{const[e]=ne(),t=O(()=>Object.entries(e.encounter?.allies??{}));return(()=>{var n=qn();return n.firstChild,g(n,m(T,{get when(){return e.encounter!==null},get children(){var i=Zn();return g(i,m(Ce,{get each(){return e.encounter?.enemies},children:r=>(()=>{var l=ei(),a=l.firstChild,o=a.firstChild;return g(o,()=>r.enemyID),g(l,m(Z,{get value(){return r.health.value},get max(){return r.health.max},get label(){return`HP: ${A(r.health.value)} / ${A(r.health.max)}`},type:"health",easing:.7,isHealth:!0}),null),g(l,m(T,{get when(){return(r.mana.max??0)>0},get children(){return m(Z,{get value(){return r.mana.value},get max(){return r.mana.max},get label(){return`MP: ${A(r.mana.value)} / ${A(r.mana.max)}`},type:"mana"})}}),null),g(l,m(Z,{get value(){return r.delay},get max(){return X(()=>!!r.skillID)()?Y[r.skillID].delay:0},get label(){return X(()=>!!r.skillID)()?`${Y[r.skillID].name}: ${A(r.delay)} / ${A(Y[r.skillID].delay)}`:"Wait"},type:"delay"}),null),l})()}),null),g(i,m(Ce,{get each(){return t()},children:([r,l])=>{const a=e.party[r];return(()=>{var o=ti(),s=o.firstChild,u=s.firstChild;return g(u,()=>a.name),g(o,m(Z,{get value(){return a.health.value},get max(){return a.health.max},get label(){return`HP: ${A(a.health.value)} / ${A(a.health.max)}`},type:"health",easing:.7,isHealth:!0}),null),g(o,m(T,{get when(){return(a.mana.max??0)>0},get children(){return m(Z,{get value(){return a.mana.value},get max(){return a.mana.max},get label(){return`MP: ${A(a.mana.value)} / ${A(a.mana.max)}`},type:"mana"})}}),null),g(o,m(Z,{get value(){return l.delay},get max(){return X(()=>!!l.skillID)()?Y[l.skillID].delay:0},get label(){return X(()=>!!l.skillID)()?`${Y[l.skillID].name}: ${A(l.delay)} / ${A(Y[l.skillID].delay)}`:"Wait"},type:"delay"}),null),o})()}}),null),i}}),null),g(n,m(T,{get when(){return e.encounter===null},get children(){return Qn()}}),null),D(()=>v(n,Fn.encounter)),n})()};var ii=E("<div><b>Inventory"),ri=E("<div>");const li=()=>{const[e]=ne(),t=O(()=>Object.entries(e.items));return(()=>{var n=ii();return n.firstChild,g(n,m(ye,{get each(){return t()},children:(i,r)=>(()=>{var l=ri();return g(l,()=>i()[1].amount+" "+i()[1].id),l})()}),null),n})()},oi="_log_content_1fyxs_1",ai={log_content:oi};var Xe=E("<div>");const si=()=>{const[e]=ne(),t=new Intl.DateTimeFormat("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit"});return(()=>{var n=Xe();return g(n,m(ye,{get each(){return e.logs},children:(i,r)=>(()=>{var l=Xe();return g(l,()=>"["+t.format(Date.now())+"] "+i()),l})()})),D(()=>v(n,ai.log_content)),n})()};var ui=E('<div style=display:flex;align-items:center;gap:8px;font-size:14px><label for=theme-select>Theme:</label><select id=theme-select style="padding:2px 4px;border-radius:4px;border:1px solid var(--border-color);background:var(--section-bg);color:var(--text-color);cursor:pointer"><option value=system>System</option><option value=light>Light</option><option value=dark>Dark');const ci=()=>{const[e,t]=ne();return(()=>{var n=ui(),i=n.firstChild,r=i.nextSibling;return r.$$input=l=>t.setTheme(l.currentTarget.value),D(()=>r.value=e.theme),n})()};we(["input"]);var fi=E('<div style=display:flex;flex-direction:column;gap:20px><h3>Configuration</h3><section style="display:flex;flex-direction:column;gap:10px;padding:15px;border:1px solid var(--border-color);background:var(--section-bg);border-radius:8px"><h4 style=margin:0>Appearance');const di=()=>(()=>{var e=fi(),t=e.firstChild,n=t.nextSibling;return n.firstChild,g(n,m(ci,{}),null),e})(),hi="_landing_g7s4w_1",mi="_content_g7s4w_48",gi="_title_g7s4w_68",yi="_description_g7s4w_103",vi="_subdescription_g7s4w_115",bi="_startButton_g7s4w_127",_i="_buttonText_g7s4w_155",pi="_buttonGlow_g7s4w_160",H={landing:hi,content:mi,title:gi,description:yi,subdescription:vi,startButton:bi,buttonText:_i,buttonGlow:pi};var xi=E("<div><div><h1>Yet Another Regressor Idle</h1><p>This is a vibe-coded idle/incremental game that attempts to capture the feeling of being the main character of a regression manhwa, with <i>Leveling with the Gods</i> and <i>Max Level Player's 100th Regression</i> as the main sources of inspiration.</p><p>TODO:<br>* No saving/persistence.</p><button><span>Start Game</span><span>");const Ei=e=>(()=>{var t=xi(),n=t.firstChild,i=n.firstChild,r=i.nextSibling,l=r.nextSibling,a=l.nextSibling,o=a.firstChild,s=o.nextSibling;return Pt(a,"click",e.onStartGame),D(u=>{var f=H.landing,c=H.content,b=H.title,d=H.description,y=H.subdescription,_=H.startButton,w=H.buttonText,S=H.buttonGlow;return f!==u.e&&v(t,u.e=f),c!==u.t&&v(n,u.t=c),b!==u.a&&v(i,u.a=b),d!==u.o&&v(r,u.o=d),y!==u.i&&v(l,u.i=y),_!==u.n&&v(a,u.n=_),w!==u.s&&v(o,u.s=w),S!==u.h&&v(s,u.h=S),u},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0}),t})();we(["click"]);var $i=E("<b>Actions"),We=E("<div>"),wi=E("<div>Health <!> / "),Ii=E("<div>Mana <!> / "),Si=E("<div><header><span>Yet Another Regressor Idle</span></header><nav><button>Actions</button><button>Encounter</button><button>Inventory</button><button>Config</button></nav><div><div></div><aside><b>Resources</b><br><b>Stats");const Ai=()=>{const[e,t]=ne(),[n,i]=K("actions"),[r,l]=K(null),[a,o]=K(null),s=["actions","encounter","inventory","config"],u=d=>{const y=s.indexOf(n());d==="right"&&y>0?i(s[y-1]):d==="left"&&y<s.length-1&&i(s[y+1])},f=d=>{l(d.touches[0].clientX),o(d.touches[0].clientY)},c=d=>{const y=r(),_=a();if(y===null||_===null)return;const w=d.changedTouches[0].clientX,S=d.changedTouches[0].clientY,p=w-y,C=S-_;Math.abs(p)>Math.abs(C)&&Math.abs(p)>50&&(p>0?u("right"):u("left")),l(null),o(null)};Qe(()=>{let d="dark";e.theme==="system"?d=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":d=e.theme,document.documentElement.setAttribute("data-theme",d)}),xt(()=>{t.initialize(t);let d=Date.now()/1e3;const y=setInterval(()=>{let _=Date.now()/1e3;const w=_-d;d=_,t.runEncounter(w)},50);Te(()=>clearInterval(y))});const b=O(()=>Object.entries(e.resources));return(()=>{var d=Si(),y=d.firstChild,_=y.nextSibling,w=_.firstChild,S=w.nextSibling,p=S.nextSibling,C=p.nextSibling,P=_.nextSibling,L=P.firstChild,V=L.nextSibling,yt=V.firstChild,Ue=yt.nextSibling;return Ue.nextSibling,w.$$click=()=>i("actions"),S.$$click=()=>i("encounter"),p.$$click=()=>i("inventory"),C.$$click=()=>i("config"),L.$$touchend=c,L.$$touchstart=f,g(L,m(kt,{get children(){return[m(ue,{get when(){return n()==="actions"},get children(){return[$i(),m(ye,{each:mt,children:h=>m(Gn,{item:h})})]}}),m(ue,{get when(){return n()==="encounter"},get children(){return m(ni,{})}}),m(ue,{get when(){return n()==="inventory"},get children(){return m(li,{})}}),m(ue,{get when(){return n()==="config"},get children(){return m(di,{})}})]}})),g(P,m(T,{get when(){return n()==="actions"||n()==="encounter"},get children(){var h=We();return g(h,m(si,{})),D(()=>v(h,k.logs)),h}}),V),g(V,m(ye,{get each(){return b()},children:h=>m(T,{get when(){return X(()=>xe[h()[0]].type==="basic")()&&h()[1].max>0},get children(){var U=We();return g(U,()=>xe[h()[0]].name+" "+A(h()[1].value)+" / "+A(h()[1].max)),U}})}),Ue),g(V,m(T,{get when(){return X(()=>!!e.party[I])()&&(e.party[I].health.max??0)>0},get children(){var h=wi(),U=h.firstChild,F=U.nextSibling;return F.nextSibling,g(h,()=>A(e.party[I].health.value),F),g(h,()=>A(e.party[I].health.max),null),h}}),null),g(V,m(T,{get when(){return X(()=>!!e.party[I])()&&(e.party[I].mana.max??0)>0},get children(){var h=Ii(),U=h.firstChild,F=U.nextSibling;return F.nextSibling,g(h,()=>A(e.party[I].mana.value),F),g(h,()=>A(e.party[I].mana.max),null),h}}),null),D(h=>{var U=k.App,F=k.header,je=k.tab_nav,Re=`${k.tab_button} ${n()==="actions"?k.tab_active:""} `,Ge=`${k.tab_button} ${n()==="encounter"?k.tab_active:""} `,Ve=`${k.tab_button} ${n()==="inventory"?k.tab_active:""} `,Fe=`${k.tab_button} ${n()==="config"?k.tab_active:""} `,Be=k.main_container,He=k.tab_content,Ye=k.stats;return U!==h.e&&v(d,h.e=U),F!==h.t&&v(y,h.t=F),je!==h.a&&v(_,h.a=je),Re!==h.o&&v(w,h.o=Re),Ge!==h.i&&v(S,h.i=Ge),Ve!==h.n&&v(p,h.n=Ve),Fe!==h.s&&v(C,h.s=Fe),Be!==h.h&&v(P,h.h=Be),He!==h.r&&v(L,h.r=He),Ye!==h.d&&v(V,h.d=Ye),h},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0,h:void 0,r:void 0,d:void 0}),d})()},Di=()=>{const[e,t]=K(!1),n=()=>{t(!0)};return m(T,{get when(){return e()},get fallback(){return m(Ei,{onStartGame:n})},get children(){return m(Ai,{})}})};we(["click","touchstart","touchend"]);const Mi=document.getElementById("root");Tt(()=>m(In,{get children(){return m(Di,{})}}),Mi);
